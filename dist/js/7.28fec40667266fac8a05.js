webpackJsonp([7,8],{481:function(t,e,o){function r(t){o(551)}var n=o(16)(o(553),o(554),r,"data-v-2761bc72",null);t.exports=n.exports},494:function(t,e,o){function r(t){o(620)}var n=o(16)(o(622),o(623),r,null,null);t.exports=n.exports},500:function(t,e,o){var r=o(87),n=o(15)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,o,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=a(e=Object(t),n))?o:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},501:function(t,e,o){"use strict";function r(t){var e,o;this.promise=new t(function(t,r){if(void 0!==e||void 0!==o)throw TypeError("Bad Promise constructor");e=t,o=r}),this.resolve=n(e),this.reject=n(o)}var n=o(254);t.exports.f=function(t){return new r(t)}},502:function(t,e,o){var r=o(33);t.exports=function(t,e,o,n){try{return n?e(r(o)[0],o[1]):e(o)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},503:function(t,e,o){var r=o(48),n=o(15)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[n]===t)}},504:function(t,e,o){var r=o(500),n=o(15)("iterator"),i=o(48);t.exports=o(32).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||i[r(t)]}},505:function(t,e,o){var r=o(15)("iterator"),n=!1;try{var i=[7][r]();i.return=function(){n=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var o=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:o=!0}},i[r]=function(){return a},t(i)}catch(t){}return o}},522:function(t,e,o){var r=o(33),n=o(254),i=o(15)("species");t.exports=function(t,e){var o,a=r(t).constructor;return void 0===a||void 0==(o=r(a)[i])?e:n(o)}},523:function(t,e,o){var r,n,i,a=o(253),s=o(536),c=o(263),l=o(89),u=o(9),f=u.process,d=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,v=u.Dispatch,m=0,b={},g=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},y=function(t){g.call(t.data)};d&&p||(d=function(t){for(var e=[],o=1;arguments.length>o;)e.push(arguments[o++]);return b[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete b[t]},"process"==o(87)(f)?r=function(t){f.nextTick(a(g,t,1))}:v&&v.now?r=function(t){v.now(a(g,t,1))}:h?(n=new h,i=n.port2,n.port1.onmessage=y,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:d,clear:p}},524:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},525:function(t,e,o){var r=o(33),n=o(34),i=o(501);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var o=i.f(t);return(0,o.resolve)(e),o.promise}},526:function(t,e,o){var r=o(253),n=o(502),i=o(503),a=o(33),s=o(256),c=o(504),l={},u={},e=t.exports=function(t,e,o,f,d){var p,h,v,m,b=d?function(){return t}:c(t),g=r(o,f,e?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(i(b)){for(p=s(t.length);p>y;y++)if((m=e?g(a(h=t[y])[0],h[1]):g(t[y]))===l||m===u)return m}else for(v=b.call(t);!(h=v.next()).done;)if((m=n(v,g,h.value,e))===l||m===u)return m};e.BREAK=l,e.RETURN=u},527:function(t,e){t.exports=function(t,e,o,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(o+": incorrect invocation!");return t}},528:function(t,e,o){var r=o(18);t.exports=function(t,e,o){for(var n in e)o&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},529:function(t,e,o){t.exports={default:o(534),__esModule:!0}},534:function(t,e,o){o(262),o(257),o(261),o(535),o(539),o(540),t.exports=o(32).Promise},535:function(t,e,o){"use strict";var r,n,i,a,s=o(50),c=o(9),l=o(253),u=o(500),f=o(86),d=o(34),p=o(254),h=o(527),v=o(526),m=o(522),b=o(523).set,g=o(537)(),y=o(501),_=o(524),w=o(525),x=c.TypeError,k=c.process,C=c.Promise,D="process"==u(k),q=function(){},S=n=y.f,M=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[o(15)("species")]=function(t){t(q,q)};return(D||"function"==typeof PromiseRejectionEvent)&&t.then(q)instanceof e}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var o=t._c;g(function(){for(var r=t._v,n=1==t._s,i=0;o.length>i;)!function(e){var o,i,a=n?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{a?(n||(2==t._h&&E(t),t._h=1),!0===a?o=r:(l&&l.enter(),o=a(r),l&&l.exit()),o===e.promise?c(x("Promise-chain cycle")):(i=P(o))?i.call(o,s,c):s(o)):c(r)}catch(t){c(t)}}(o[i++]);t._c=[],t._n=!1,e&&!t._h&&j(t)})}},j=function(t){b.call(c,function(){var e,o,r,n=t._v,i=L(t);if(i&&(e=_(function(){D?k.emit("unhandledRejection",n,t):(o=c.onunhandledrejection)?o({promise:t,reason:n}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",n)}),t._h=D||L(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},L=function(t){if(1==t._h)return!1;for(var e,o=t._a||t._c,r=0;o.length>r;)if(e=o[r++],e.fail||!L(e.promise))return!1;return!0},E=function(t){b.call(c,function(){var e;D?k.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},T=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},R=function(t){var e,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===t)throw x("Promise can't be resolved itself");(e=P(t))?g(function(){var r={_w:o,_d:!1};try{e.call(t,l(R,r,1),l(T,r,1))}catch(t){T.call(r,t)}}):(o._v=t,o._s=1,O(o,!1))}catch(t){T.call({_w:o,_d:!1},t)}}};M||(C=function(t){h(this,C,"Promise","_h"),p(t),r.call(this);try{t(l(R,this,1),l(T,this,1))}catch(t){T.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=o(528)(C.prototype,{then:function(t,e){var o=S(m(this,C));return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,o.domain=D?k.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&O(this,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=l(R,t,1),this.reject=l(T,t,1)},y.f=S=function(t){return t===C||t===a?new i(t):n(t)}),f(f.G+f.W+f.F*!M,{Promise:C}),o(49)(C,"Promise"),o(538)("Promise"),a=o(32).Promise,f(f.S+f.F*!M,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(t){return w(s&&this===a?C:this,t)}}),f(f.S+f.F*!(M&&o(505)(function(t){C.all(t).catch(q)})),"Promise",{all:function(t){var e=this,o=S(e),r=o.resolve,n=o.reject,i=_(function(){var o=[],i=0,a=1;v(t,!1,function(t){var s=i++,c=!1;o.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,o[s]=t,--a||r(o))},n)}),--a||r(o)});return i.e&&n(i.v),o.promise},race:function(t){var e=this,o=S(e),r=o.reject,n=_(function(){v(t,!1,function(t){e.resolve(t).then(o.resolve,r)})});return n.e&&r(n.v),o.promise}})},536:function(t,e){t.exports=function(t,e,o){var r=void 0===o;switch(e.length){case 0:return r?t():t.call(o);case 1:return r?t(e[0]):t.call(o,e[0]);case 2:return r?t(e[0],e[1]):t.call(o,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(o,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(o,e[0],e[1],e[2],e[3])}return t.apply(o,e)}},537:function(t,e,o){var r=o(9),n=o(523).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==o(87)(a);t.exports=function(){var t,e,o,l=function(){var r,n;for(c&&(r=a.domain)&&r.exit();t;){n=t.fn,t=t.next;try{n()}catch(r){throw t?o():e=void 0,r}}e=void 0,r&&r.enter()};if(c)o=function(){a.nextTick(l)};else if(i){var u=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),o=function(){f.data=u=!u}}else if(s&&s.resolve){var d=s.resolve();o=function(){d.then(l)}}else o=function(){n.call(r,l)};return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,o()),e=n}}},538:function(t,e,o){"use strict";var r=o(9),n=o(32),i=o(17),a=o(19),s=o(15)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},539:function(t,e,o){"use strict";var r=o(86),n=o(32),i=o(9),a=o(522),s=o(525);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,n.Promise||i.Promise),o="function"==typeof t;return this.then(o?function(o){return s(e,t()).then(function(){return o})}:t,o?function(o){return s(e,t()).then(function(){throw o})}:t)}})},540:function(t,e,o){"use strict";var r=o(86),n=o(501),i=o(524);r(r.S,"Promise",{try:function(t){var e=n.f(this),o=i(t);return(o.e?e.reject:e.resolve)(o.v),e.promise}})},541:function(t,e,o){"use strict";var r=o(35);e.a={getUserByEmail:function(t){return r.a.http.get("user/getuser/"+t)},updateUserSettings:function(t){return r.a.http.post("user/updateusersettings",t)},updateUserInformation:function(t){return r.a.http.post("user/updateuserinformation",t)},updateUserEmail:function(t){return r.a.http.post("user/updateuseremail",t)},updateUserPassword:function(t){return r.a.http.post("user/updateuserpassword",t)},completeTutorialTour:function(t){return r.a.http.post("user/completetutorialtour",t)},addCorrectedAddress:function(t){return r.a.http.post("user/addcorrectedaddress",t)},deleteCorrectedAddress:function(t){return r.a.http.post("user/deletecorrectedaddress",t)}}},551:function(t,e,o){var r=o(552);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);o(478)("76a230bd",r,!0)},552:function(t,e,o){e=t.exports=o(477)(void 0),e.push([t.i,'.colorpicker[data-v-2761bc72]{height:40px;width:100%;cursor:pointer}.colorpicker.disabled[data-v-2761bc72]{cursor:not-allowed}.colorpicker-wrapper .q-item[data-v-2761bc72]{width:100%}.colorpicker-wrapper .colorpicker-block[data-v-2761bc72]{height:4rem;width:4rem;width:20%;padding:0 .25rem;display:inline-block}.colorpicker-wrapper .colorpicker-block>div[data-v-2761bc72]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;width:100%}.colorpicker-wrapper .colorpicker-block i[data-v-2761bc72]{overflow:hidden;position:absolute;z-index:50;display:none}.colorpicker-wrapper .colorpicker-block i[data-v-2761bc72]:after{content:"";height:75%;width:75%;background:#fff;z-index:-1;position:absolute;left:12.5%;top:12.5%;border-radius:50%}.colorpicker-wrapper .colorpicker-block.selected .colorpicker-color[data-v-2761bc72]{opacity:.75}.colorpicker-wrapper .colorpicker-block.selected i[data-v-2761bc72]{display:block}.colorpicker-wrapper .colorpicker-block .colorpicker-color[data-v-2761bc72]{cursor:pointer;display:inline-block;height:100%;width:100%}',""])},553:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(529),n=o.n(r),i=o(47);e.default={name:"ColorModal",props:["color","disabled"],components:{QModal:i.B,QModalLayout:i.C,QToolbar:i.T,QBtn:i.e,QList:i.z,QCollapsible:i.n,QIcon:i.q},data:function(){return{finalColor:null,selectedColor:null,allColors:null,colorLabels:["Red","Pink","Purple","Deep purple","Indigo","Blue","Light blue","Cyan","Teal","Green","Light green","Lime","Yellow","Amber","Orange","Deep orange","Brown","Gray","Blue-gray"],emits:{beacon:"update-beacon-color",settings:"update-settings-color"}}},methods:{openColorModal:function(){this.disabled||this.$refs.colorModal.open()},selectColor:function(){this.$emit("update:color",this.selectedColor),this.finalColor=this.selectedColor,this.$refs.colorModal.close()},getJSON:function(t){return new n.a(function(e,o){var r=new XMLHttpRequest;r.addEventListener("load",function(){r.status>=200&&r.status<400?e(r.response):o(Error(r.statusText))}),r.addEventListener("error",function(){o(Error("Could not get JSON"))}),r.open("GET",t,!0),r.send()}).then(JSON.parse).catch(function(t){throw t})}},mounted:function(){var t=this;this.finalColor=this.color,this.selectedColor=this.color,this.getJSON("assets/data/colors.json").then(function(e){t.allColors=e})}}},554:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"colorpicker",class:{disabled:t.disabled},style:{background:t.finalColor+" !important"},on:{click:function(e){e.preventDefault(),t.openColorModal(e)}}}),t._v(" "),o("q-modal",{ref:"colorModal",staticClass:"footer-no-shadow mobile-modal-padding",attrs:{"content-css":{minWidth:"400px",minHeight:"500px"}}},[o("q-modal-layout",{staticClass:"colorModal"},[o("q-toolbar",{slot:"header"},[o("div",{staticClass:"q-toolbar-title"},[t._v("\n          Select A Color\n        ")])]),t._v(" "),o("div",{staticClass:"modal-body"},[o("q-list",t._l(t.allColors,function(e,r){return o("q-collapsible",{key:r,staticClass:"colorpicker-wrapper",attrs:{group:"colors",label:t.colorLabels[r],opened:e.includes(t.selectedColor)}},t._l(e,function(e,r){return o("div",{key:e,staticClass:"colorpicker-block",class:{selected:e===t.selectedColor}},[o("div",[o("div",{staticClass:"colorpicker-color",style:{background:e},attrs:{for:e},on:{click:function(o){t.selectedColor=e}}}),t._v(" "),o("q-icon",{attrs:{name:"ion-checkmark-circled",color:"positive",size:"2rem"}})],1)])}))}))],1),t._v(" "),o("q-toolbar",{attrs:{color:"white"},slot:"footer"},[o("div",{staticClass:"q-toolbar-title text-right"},[o("q-btn",{on:{click:function(e){e.preventDefault(),t.log(e)}}},[t._v("Log")]),t._v(" "),o("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.colorModal.close()}}},[t._v("Close")]),t._v(" "),o("q-btn",{attrs:{color:"primary"},on:{click:function(e){t.selectColor()}}},[t._v("Update Settings")])],1)])],1)],1)],1)},staticRenderFns:[]}},620:function(t,e,o){var r=o(621);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);o(478)("798292d6",r,!0)},621:function(t,e,o){e=t.exports=o(477)(void 0),e.push([t.i,".settings-card form{padding:0 1rem 1.5rem}.settings-card form .q-field-label-inner{width:100%!important}.settings-card form .q-radio:not(:last-of-type){margin-bottom:.25rem}.settings-card form .q-option .q-option-label{color:rgba(0,0,0,.54)}.settings-card form .button-wrapper{margin-top:1rem}",""])},622:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(264),n=o.n(r),i=o(47),a=o(541),s=o(255),c=o(481),l=o.n(c);e.default={name:"Settings",mixins:[s.a],components:{QBtn:i.e,QCard:i.f,QCardTitle:i.i,QField:i.p,QInput:i.s,QToggle:i.S,QSlider:i.J,QRadio:i.E,QInnerLoading:i.r,QSpinnerGears:i.L,ColorModal:l.a},data:function(){return{formData:this.$store.state.user.settings||{beaconLimit:55,defaultColor:"#D50000",playBeaconSound:!1,playNotificationSound:!0,showBeaconAddress:!1,unitOfMeasurement:"miles",searchRadius:15},originalData:null,loading:!1}},methods:{updateUserSettings:function(){var t=this;this.loading=!0;var e={userId:this.$store.state.user._id,settings:this.formData};a.a.updateUserSettings(e).then(function(e){t.loading=!1,t.$store.commit("updateUser",e.body),t.originalData=JSON.parse(n()(t.formData)),t.createToast("positive","Your settings were successfully updated")}).catch(function(e){t.loading=!1,t.createToast("negative",e.body.message)})},areObjectsEqual:function(t,e){return n()(t)===n()(e)},generateSearchRadiusLabel:function(){return"Search Radius ("+this.formData.searchRadius+("miles"===this.formData.unitOfMeasurement?"mi":"km")+")"},setColor:function(t){this.formData.defaultColor=t}},mounted:function(){this.originalData=JSON.parse(n()(this.formData))}}},623:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout-padding row justify-center"},[o("div",{staticClass:"postlogin-page-wrapper"},[o("q-card",{staticClass:"settings-card relative-position",attrs:{color:"white"}},[o("q-card-title",{staticClass:"uppercase color-white text-center block bg-primary"},[t._v("\n        Update Settings\n      ")]),t._v(" "),o("form",{staticClass:"relative-position",attrs:{name:"beaconForm"},on:{submit:function(e){e.preventDefault(),t.updateUserSettings(e)}}},[o("q-field",{attrs:{label:"Play sound when receiving a connection request",labelWidth:11}},[o("q-toggle",{model:{value:t.formData.playNotificationSound,callback:function(e){t.formData.playNotificationSound=e},expression:"formData.playNotificationSound"}})],1),t._v(" "),o("q-field",{attrs:{label:"Play sound when lighting a beacon",labelWidth:11}},[o("q-toggle",{model:{value:t.formData.playBeaconSound,callback:function(e){t.formData.playBeaconSound=e},expression:"formData.playBeaconSound"}})],1),t._v(" "),o("q-field",{attrs:{label:"Show your beacon's address to others",labelWidth:11}},[o("q-toggle",{model:{value:t.formData.showBeaconAddress,callback:function(e){t.formData.showBeaconAddress=e},expression:"formData.showBeaconAddress"}})],1),t._v(" "),o("q-field",{attrs:{label:"Unit of measurement",labelWidth:11}}),t._v(" "),o("q-radio",{attrs:{val:"miles",label:"Miles"},model:{value:t.formData.unitOfMeasurement,callback:function(e){t.formData.unitOfMeasurement=e},expression:"formData.unitOfMeasurement"}}),o("br"),t._v(" "),o("q-radio",{attrs:{val:"kilometers",label:"Kilometers"},model:{value:t.formData.unitOfMeasurement,callback:function(e){t.formData.unitOfMeasurement=e},expression:"formData.unitOfMeasurement"}}),t._v(" "),o("q-field",{attrs:{label:t.generateSearchRadiusLabel(),labelWidth:11}}),t._v(" "),o("q-slider",{attrs:{min:1,max:30,label:!0},model:{value:t.formData.searchRadius,callback:function(e){t.formData.searchRadius=e},expression:"formData.searchRadius"}}),t._v(" "),o("q-field",{attrs:{label:"Nearby beacon limit ("+t.formData.beaconLimit+")",labelWidth:11}}),t._v(" "),o("q-slider",{attrs:{min:1,max:100,label:!0},model:{value:t.formData.beaconLimit,callback:function(e){t.formData.beaconLimit=e},expression:"formData.beaconLimit"}}),t._v(" "),o("q-field",{attrs:{label:"Default beacon color ("+t.formData.defaultColor.toUpperCase()+")",labelWidth:11}}),t._v(" "),o("color-modal",{attrs:{field:"defaultColor",color:t.formData.defaultColor},on:{"update:color":function(e){t.formData.defaultColor=e}}}),t._v(" "),o("div",{staticClass:" button-wrapper text-right"},[o("q-btn",{attrs:{color:"primary",disabled:t.areObjectsEqual(t.originalData,t.formData)}},[t._v("\n            Update\n          ")])],1)],1),t._v(" "),o("q-inner-loading",{attrs:{visible:t.loading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1)])},staticRenderFns:[]}}});