webpackJsonp([9,17,18],{481:function(t,e,o){function i(t){o(542)}var s=o(15)(o(544),o(545),i,null,null);t.exports=s.exports},482:function(t,e,o){function i(t){o(546)}var s=o(15)(o(548),o(549),i,null,null);t.exports=s.exports},486:function(t,e,o){function i(t){o(574)}var s=o(15)(o(576),o(577),i,null,null);t.exports=s.exports},542:function(t,e,o){var i=o(543);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(476)("de1d225c",i,!0)},543:function(t,e,o){e=t.exports=o(475)(void 0),e.push([t.i,".q-btn.mail-button{padding:0 .5rem}.q-btn.mail-button .q-icon.has-mail{margin-right:2px}.q-btn.mail-button span{margin-left:2px}",""])},544:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(46),s=o(256);e.default={name:"PostloginHeader",mixins:[s.a],components:{QToolbar:i.O,QToolbarTitle:i.P,QBtn:i.d,QIcon:i.o,QTabs:i.M,QRouteTab:i.E,QList:i.x,QItem:i.r,QItemSide:i.u,QItemMain:i.s,QSideLink:i.G},data:function(){return{tabRoutes:["/app/beacon","/app/map","/app/settings"],tab:""}},watch:{$route:function(t){this.tabRoutes.includes(t.path)||(this.tab="")}},methods:{toggleRight:function(){this.$q.events.$emit("emitResizeMap"),this.$emit("toggleRight")},checkBeaconStatus:function(t){return"active"===t?this.$store.state.user&&this.$store.state.user.beacon:"inactive"===t?this.$store.state.user&&!this.$store.state.user.beacon&&!this.doesObjectExist(this.$store.state.user.outgoingConnectionRequest)&&!this.doesObjectExist(this.$store.state.user.connectedTo):"awaitingConnectionApproval"===t?this.$store.state.user&&!this.$store.state.user.beacon&&this.doesObjectExist(this.$store.state.user.outgoingConnectionRequest):"connected"===t?this.$store.state.user&&!this.$store.state.user.beacon&&this.doesObjectExist(this.$store.state.user.connectedTo):void 0}}}},545:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",{attrs:{id:"appHeader"}},[o("q-toolbar",{attrs:{color:"primary"},slot:"header"},[o("q-toolbar-title",[t._v("\n      Beacon\n      "),t.checkBeaconStatus("active")?o("div",{slot:"subtitle"},[t._v("Active")]):t._e(),t._v(" "),t.checkBeaconStatus("inactive")?o("div",{slot:"subtitle"},[t._v("Inactive")]):t._e(),t._v(" "),t.checkBeaconStatus("awaitingConnectionApproval")?o("div",{slot:"subtitle"},[t._v("Awaiting connection approval")]):t._e(),t._v(" "),t.checkBeaconStatus("connected")?o("div",{slot:"subtitle"},[t._v("Connected")]):t._e()]),t._v(" "),o("q-btn",{attrs:{flat:""},on:{click:function(e){t.toggleRight()}}},[o("q-icon",{attrs:{name:"menu"}})],1)],1),t._v(" "),o("q-tabs",{slot:"navigation",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[o("q-route-tab",{attrs:{name:"beacon",icon:"ion-flame",to:"/app/beacon",hide:"label",label:"Beacon"},slot:"title"}),t._v(" "),o("q-route-tab",{attrs:{name:"map",icon:"map",to:"/app/map",hide:"label",label:"Map"},slot:"title"}),t._v(" "),o("q-route-tab",{attrs:{name:"inbox",icon:"mail",to:"/app/connection-inbox",hide:"label",label:"Inbox",count:t.$store.state.user.beacon&&t.$store.state.user.beacon.incomingConnectionRequests.length},slot:"title"}),t._v(" "),o("q-route-tab",{attrs:{name:"settings",icon:"settings",to:"/app/settings",hide:"label",label:"Settings"},slot:"title"})],1)],1)},staticRenderFns:[]}},546:function(t,e,o){var i=o(547);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(476)("1c221f8c",i,!0)},547:function(t,e,o){e=t.exports=o(475)(void 0),e.push([t.i,'.sidebar-header{height:122px;padding:1rem;color:#fff;background:url("/assets/images/lighthouse.jpg") 0 20%;background-size:150%}.sidebar-header .sidebar-name{margin-bottom:0}',""])},548:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(46),s=o(256);e.default={name:"Sidebar",mixins:[s.a],components:{QList:i.x,QItem:i.r,QItemSide:i.u,QItemMain:i.s,QSideLink:i.G},methods:{toggleRight:function(){this.$emit("toggleRight")},countIncomingRequests:function(){return this.checkExistence(this.$store.state.user,["beacon","incomingConnectionRequests"])?" <strong>("+this.$store.state.user.beacon.incomingConnectionRequests.length+")</strong>":""},logout:function(){this.$cookie.delete("token"),this.$router.push("/")}}}},549:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-list",{staticClass:"no-padding",attrs:{"no-border":"",link:"","inset-delimiter":""}},[o("div",{staticClass:"sidebar-header column justify-end no-wrap"},[o("div",{staticClass:"sidebar-image"}),t._v(" "),this.$store.state.user?o("div",[o("img",{staticClass:"circular profile",attrs:{src:this.$store.state.user.gravatar}}),t._v(" "),o("h5",{staticClass:"sidebar-name"},[t._v("\n          "+t._s(this.$store.state.user.firstName)+"\n        ")])]):t._e()]),t._v(" "),o("q-side-link",{attrs:{item:"",to:"account"}},[o("q-item-side",{attrs:{icon:"account circle"}}),t._v(" "),o("q-item-main",{attrs:{label:"Account"}})],1),t._v(" "),o("q-item",{on:{click:function(e){t.logout()}}},[o("q-item-side",{attrs:{icon:"exit to app"}}),t._v(" "),o("q-item-main",{attrs:{label:"Logout"}})],1)],1)],1)},staticRenderFns:[]}},574:function(t,e,o){var i=o(575);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o(476)("fcec1d3a",i,!0)},575:function(t,e,o){e=t.exports=o(475)(void 0),e.push([t.i,".postlogin-page-wrapper{width:500px;max-width:90vw}.colorpicker-block{padding:1px;background:rgba(0,0,0,.12);cursor:pointer}.colorpicker-block.disabled{opacity:.6}.colorpicker-wrapper{height:40px;cursor:pointer}.colorpicker{cursor:pointer;height:100%;position:absolute;top:0;right:0;bottom:0;left:0;padding:0;padding-bottom:0;border:0;opacity:0}.colorpicker:disabled{opacity:0!important}.colorpicker:focus{outline:0}",""])},576:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(46),s=o(481),n=o.n(s),a=o(482),r=o.n(a);e.default={name:"postlogin",components:{QLayout:i.w,QToolbar:i.O,QToolbarTitle:i.P,QBtn:i.d,QIcon:i.o,QList:i.x,QListHeader:i.y,QItem:i.r,QItemSide:i.u,QItemMain:i.s,QSideLink:i.G,PostloginHeader:n.a,Sidebar:r.a},data:function(){return{socketClientObj:{fullName:this.$store.state.user.fullName,email:this.$store.state.user.email,userId:this.$store.state.user._id}}},computed:{},methods:{toggleRight:function(){this.$refs.layout.toggleRight()}},mounted:function(){var t=this;this.$socket.emit("userNavigatedToPostlogin",this.socketClientObj),this.$q.platform.is.desktop&&!this.$cookie.get("has-seen-desktop-alert")&&i.b.create({html:"Desktop geolocation is not as accurate as mobile devices. If your location is inaccurate, consider switching to a mobile device.",position:"bottom-center",onDismiss:function(){t.$cookie.set("has-seen-desktop-alert",!0)}})},beforeDestroy:function(){this.$socket.emit("userNavigatedToPrelogin",this.socketClientObj)}}},577:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",{ref:"layout",attrs:{view:"hHr Lpr fff","right-class":{"bg-grey-2":!0}}},[o("postlogin-header",{on:{toggleRight:t.toggleRight}}),t._v(" "),o("sidebar",{slot:"right"}),t._v(" "),o("router-view"),t._v(" "),o("audio",{attrs:{id:"horn"}},[o("source",{attrs:{src:"/assets/audio/horn.mp3",type:"audio/mpeg"}})]),t._v(" "),o("audio",{attrs:{id:"notification"}},[o("source",{attrs:{src:"/assets/audio/notification.mp3",type:"audio/mpeg"}})])],1)},staticRenderFns:[]}}});