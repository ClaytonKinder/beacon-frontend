webpackJsonp([1,8,16],{480:function(e,t,o){function n(e){o(548)}var r=o(16)(o(550),o(551),n,"data-v-7da23f5c",null);e.exports=r.exports},481:function(e,t,o){function n(e){o(552)}var r=o(16)(o(554),o(555),n,"data-v-2761bc72",null);e.exports=r.exports},492:function(e,t,o){function n(e){o(613)}var r=o(16)(o(615),o(616),n,"data-v-d29dab06",null);e.exports=r.exports},500:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var n=o(509),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.withParams=r.default;var a=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e||!1===e)return!1;if("object"==typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,o){return"function"==typeof e?e.call(t,o):o[e]},t.regex=function(e,t){return(0,r.default)({type:e},function(e){return!a(e)||t.test(e)})}},501:function(e,t,o){var n=o(87),r=o(15)("toStringTag"),a="Arguments"==n(function(){return arguments}()),i=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,o,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=i(t=Object(e),r))?o:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},502:function(e,t,o){"use strict";function n(e){var t,o;this.promise=new e(function(e,n){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=n}),this.resolve=r(t),this.reject=r(o)}var r=o(254);e.exports.f=function(e){return new n(e)}},503:function(e,t,o){var n=o(33);e.exports=function(e,t,o,r){try{return r?t(n(o)[0],o[1]):t(o)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},504:function(e,t,o){var n=o(48),r=o(15)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},505:function(e,t,o){var n=o(501),r=o(15)("iterator"),a=o(48);e.exports=o(32).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[n(e)]}},506:function(e,t,o){var n=o(15)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var o=!1;try{var a=[7],i=a[n]();i.next=function(){return{done:o=!0}},a[n]=function(){return i},e(a)}catch(e){}return o}},507:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var r=o(508),a=n(r),i=o(510),s=n(i),c=o(511),d=n(c),l=o(512),u=n(l),f=o(513),p=n(f),h=o(514),m=n(h),v=o(515),g=n(v),b=o(516),y=n(b),_=o(517),x=n(_),C=o(518),w=n(C),q=o(519),A=n(q),k=o(520),$=n(k),D=o(521),L=n(D),S=o(522),M=n(S);t.alpha=a.default,t.alphaNum=s.default,t.numeric=d.default,t.between=u.default,t.email=p.default,t.maxLength=m.default,t.minLength=g.default,t.required=y.default,t.requiredIf=x.default,t.requiredUnless=w.default,t.sameAs=A.default,t.url=$.default,t.or=L.default,t.and=M.default},508:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=(0,n.regex)("alpha",/^[a-zA-Z]*$/)},509:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(259).withParams;t.default=n},510:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=(0,n.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},511:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=(0,n.regex)("numeric",/^[0-9]*$/)},512:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},function(o){return!(0,n.req)(o)||!/\s/.test(o)&&+e<=+o&&+t>=+o})}},513:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500),r=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/;t.default=(0,n.regex)("email",r)},514:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e){return(0,n.withParams)({type:"maxLength",max:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e})}},515:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e){return(0,n.withParams)({type:"minLength",min:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e})}},516:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=(0,n.withParams)({type:"required"},n.req)},517:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},function(t,o){return!(0,n.ref)(e,this,o)||(0,n.req)(t)})}},518:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},function(t,o){return!!(0,n.ref)(e,this,o)||(0,n.req)(t)})}},519:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(e){return(0,n.withParams)({type:"sameAs",eq:e},function(t,o){return t===(0,n.ref)(e,this,o)})}},520:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500),r=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/;t.default=(0,n.regex)("url",r)},521:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,n.withParams)({type:"or"},function(){for(var e=this,o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,o){return t||o.apply(e,n)},!1)})}},522:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(500);t.default=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,n.withParams)({type:"and"},function(){for(var e=this,o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,o){return t&&o.apply(e,n)},!0)})}},523:function(e,t,o){var n=o(33),r=o(254),a=o(15)("species");e.exports=function(e,t){var o,i=n(e).constructor;return void 0===i||void 0==(o=n(i)[a])?t:r(o)}},524:function(e,t,o){var n,r,a,i=o(253),s=o(538),c=o(263),d=o(89),l=o(9),u=l.process,f=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete g[e]},"process"==o(87)(u)?n=function(e){u.nextTick(i(b,e,1))}:m&&m.now?n=function(e){m.now(i(b,e,1))}:h?(r=new h,a=r.port2,r.port1.onmessage=y,n=i(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):n="onreadystatechange"in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(i(b,e,1),0)}),e.exports={set:f,clear:p}},525:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},526:function(e,t,o){var n=o(33),r=o(34),a=o(502);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var o=a.f(e);return(0,o.resolve)(t),o.promise}},527:function(e,t,o){var n=o(253),r=o(503),a=o(504),i=o(33),s=o(256),c=o(505),d={},l={},t=e.exports=function(e,t,o,u,f){var p,h,m,v,g=f?function(){return e}:c(e),b=n(o,u,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(p=s(e.length);p>y;y++)if((v=t?b(i(h=e[y])[0],h[1]):b(e[y]))===d||v===l)return v}else for(m=g.call(e);!(h=m.next()).done;)if((v=r(m,b,h.value,t))===d||v===l)return v};t.BREAK=d,t.RETURN=l},528:function(e,t){e.exports=function(e,t,o,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(o+": incorrect invocation!");return e}},529:function(e,t,o){var n=o(18);e.exports=function(e,t,o){for(var r in t)o&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},530:function(e,t,o){"use strict";var n=o(35);t.a={getUserByEmail:function(e){return n.a.http.get("user/getuser/"+e)},updateUserSettings:function(e){return n.a.http.post("user/updateusersettings",e)},updateUserInformation:function(e){return n.a.http.post("user/updateuserinformation",e)},updateUserEmail:function(e){return n.a.http.post("user/updateuseremail",e)},updateUserPassword:function(e){return n.a.http.post("user/updateuserpassword",e)},completeTutorialTour:function(e){return n.a.http.post("user/completetutorialtour",e)},addCorrectedAddress:function(e){return n.a.http.post("user/addcorrectedaddress",e)},deleteCorrectedAddress:function(e){return n.a.http.post("user/deletecorrectedaddress",e)}}},531:function(e,t,o){e.exports={default:o(536),__esModule:!0}},536:function(e,t,o){o(262),o(257),o(261),o(537),o(541),o(542),e.exports=o(32).Promise},537:function(e,t,o){"use strict";var n,r,a,i,s=o(50),c=o(9),d=o(253),l=o(501),u=o(86),f=o(34),p=o(254),h=o(528),m=o(527),v=o(523),g=o(524).set,b=o(539)(),y=o(502),_=o(525),x=o(526),C=c.TypeError,w=c.process,q=c.Promise,A="process"==l(w),k=function(){},$=r=y.f,D=!!function(){try{var e=q.resolve(1),t=(e.constructor={})[o(15)("species")]=function(e){e(k,k)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}(),L=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},S=function(e,t){if(!e._n){e._n=!0;var o=e._c;b(function(){for(var n=e._v,r=1==e._s,a=0;o.length>a;)!function(t){var o,a,i=r?t.ok:t.fail,s=t.resolve,c=t.reject,d=t.domain;try{i?(r||(2==e._h&&j(e),e._h=1),!0===i?o=n:(d&&d.enter(),o=i(n),d&&d.exit()),o===t.promise?c(C("Promise-chain cycle")):(a=L(o))?a.call(o,s,c):s(o)):c(n)}catch(e){c(e)}}(o[a++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){g.call(c,function(){var t,o,n,r=e._v,a=P(e);if(a&&(t=_(function(){A?w.emit("unhandledRejection",r,e):(o=c.onunhandledrejection)?o({promise:e,reason:r}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=A||P(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},P=function(e){if(1==e._h)return!1;for(var t,o=e._a||e._c,n=0;o.length>n;)if(t=o[n++],t.fail||!P(t.promise))return!1;return!0},j=function(e){g.call(c,function(){var t;A?w.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},O=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),S(t,!0))},I=function(e){var t,o=this;if(!o._d){o._d=!0,o=o._w||o;try{if(o===e)throw C("Promise can't be resolved itself");(t=L(e))?b(function(){var n={_w:o,_d:!1};try{t.call(e,d(I,n,1),d(O,n,1))}catch(e){O.call(n,e)}}):(o._v=e,o._s=1,S(o,!1))}catch(e){O.call({_w:o,_d:!1},e)}}};D||(q=function(e){h(this,q,"Promise","_h"),p(e),n.call(this);try{e(d(I,this,1),d(O,this,1))}catch(e){O.call(this,e)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=o(529)(q.prototype,{then:function(e,t){var o=$(v(this,q));return o.ok="function"!=typeof e||e,o.fail="function"==typeof t&&t,o.domain=A?w.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&S(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=d(I,e,1),this.reject=d(O,e,1)},y.f=$=function(e){return e===q||e===i?new a(e):r(e)}),u(u.G+u.W+u.F*!D,{Promise:q}),o(49)(q,"Promise"),o(540)("Promise"),i=o(32).Promise,u(u.S+u.F*!D,"Promise",{reject:function(e){var t=$(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(s||!D),"Promise",{resolve:function(e){return x(s&&this===i?q:this,e)}}),u(u.S+u.F*!(D&&o(506)(function(e){q.all(e).catch(k)})),"Promise",{all:function(e){var t=this,o=$(t),n=o.resolve,r=o.reject,a=_(function(){var o=[],a=0,i=1;m(e,!1,function(e){var s=a++,c=!1;o.push(void 0),i++,t.resolve(e).then(function(e){c||(c=!0,o[s]=e,--i||n(o))},r)}),--i||n(o)});return a.e&&r(a.v),o.promise},race:function(e){var t=this,o=$(t),n=o.reject,r=_(function(){m(e,!1,function(e){t.resolve(e).then(o.resolve,n)})});return r.e&&n(r.v),o.promise}})},538:function(e,t){e.exports=function(e,t,o){var n=void 0===o;switch(t.length){case 0:return n?e():e.call(o);case 1:return n?e(t[0]):e.call(o,t[0]);case 2:return n?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3])}return e.apply(o,t)}},539:function(e,t,o){var n=o(9),r=o(524).set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,s=n.Promise,c="process"==o(87)(i);e.exports=function(){var e,t,o,d=function(){var n,r;for(c&&(n=i.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?o():t=void 0,n}}t=void 0,n&&n.enter()};if(c)o=function(){i.nextTick(d)};else if(a){var l=!0,u=document.createTextNode("");new a(d).observe(u,{characterData:!0}),o=function(){u.data=l=!l}}else if(s&&s.resolve){var f=s.resolve();o=function(){f.then(d)}}else o=function(){r.call(n,d)};return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,o()),t=r}}},540:function(e,t,o){"use strict";var n=o(9),r=o(32),a=o(17),i=o(19),s=o(15)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},541:function(e,t,o){"use strict";var n=o(86),r=o(32),a=o(9),i=o(523),s=o(526);n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,r.Promise||a.Promise),o="function"==typeof e;return this.then(o?function(o){return s(t,e()).then(function(){return o})}:e,o?function(o){return s(t,e()).then(function(){throw o})}:e)}})},542:function(e,t,o){"use strict";var n=o(86),r=o(502),a=o(525);n(n.S,"Promise",{try:function(e){var t=r.f(this),o=a(e);return(o.e?t.reject:t.resolve)(o.v),t.promise}})},547:function(e,t,o){"use strict";var n=o(35);t.a={createConnectionRequest:function(e){return n.a.http.post("connection/createconnectionrequest",e)},cancelConnectionRequest:function(e){return n.a.http.post("connection/cancelconnectionrequest",e)},approveConnectionRequest:function(e){return n.a.http.post("connection/approveconnectionrequest",e)},denyConnectionRequest:function(e){return n.a.http.post("connection/denyconnectionrequest",e)},removeConnection:function(e){return n.a.http.post("connection/removeconnection",e)},disconnectFromBeacon:function(e){return n.a.http.post("connection/disconnectfrombeacon",e)},createConnectionObject:function(e,t,o){return{userId:t._id,beaconId:e._id,beaconOwnerId:e.author._id,lat:e.location.coordinates[1],lng:e.location.coordinates[0],userLat:o.lat,userLng:o.lng,ownerName:e.author.fullName,name:t.fullName,gravatar:t.gravatar,beaconExpiration:e.expiration,user:t}}}},548:function(e,t,o){var n=o(549);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(478)("8e915d62",n,!0)},549:function(e,t,o){t=e.exports=o(477)(void 0),t.push([e.i,".connection-square[data-v-7da23f5c]{padding:1rem 1.5rem;color:#0c0c0c;transition:all .3s}.connection-square.map-modal[data-v-7da23f5c]{padding:0;font-size:.85rem}.connection-square[data-v-7da23f5c]:not(.map-modal){cursor:pointer}.connection-square[data-v-7da23f5c]:not(.map-modal):hover{background:#eee}.connection-square div.connection-name[data-v-7da23f5c]{text-overflow:ellipsis;max-width:100%;display:block;overflow:hidden}.connection-square span.connection-timestamp[data-v-7da23f5c]{color:#757575;font-size:90%;margin-top:.2rem}",""])},550:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ConnectionSquare",props:["connection","mapModal"]}},551:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.connection?o("div",{staticClass:"connection-square text-center",class:{"map-modal":e.mapModal}},[o("img",{staticClass:"circular profile",attrs:{src:e.connection.gravatar}}),e._v(" "),o("div",{staticClass:"connection-name"},[e._v(e._s(e.connection.name))]),e._v(" "),e.mapModal?e._e():o("span",{staticClass:"connection-timestamp"},[e._v(e._s(e._f("moment")(e.connection.created,"from","now")))])]):e._e()},staticRenderFns:[]}},552:function(e,t,o){var n=o(553);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(478)("76a230bd",n,!0)},553:function(e,t,o){t=e.exports=o(477)(void 0),t.push([e.i,'.colorpicker[data-v-2761bc72]{height:40px;width:100%;cursor:pointer}.colorpicker.disabled[data-v-2761bc72]{cursor:not-allowed}.colorpicker-wrapper .q-item[data-v-2761bc72]{width:100%}.colorpicker-wrapper .colorpicker-block[data-v-2761bc72]{height:4rem;width:4rem;width:20%;padding:0 .25rem;display:inline-block}.colorpicker-wrapper .colorpicker-block>div[data-v-2761bc72]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;width:100%}.colorpicker-wrapper .colorpicker-block i[data-v-2761bc72]{overflow:hidden;position:absolute;z-index:50;display:none}.colorpicker-wrapper .colorpicker-block i[data-v-2761bc72]:after{content:"";height:75%;width:75%;background:#fff;z-index:-1;position:absolute;left:12.5%;top:12.5%;border-radius:50%}.colorpicker-wrapper .colorpicker-block.selected .colorpicker-color[data-v-2761bc72]{opacity:.75}.colorpicker-wrapper .colorpicker-block.selected i[data-v-2761bc72]{display:block}.colorpicker-wrapper .colorpicker-block .colorpicker-color[data-v-2761bc72]{cursor:pointer;display:inline-block;height:100%;width:100%}',""])},554:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(531),r=o.n(n),a=o(47);t.default={name:"ColorModal",props:["color","disabled"],components:{QModal:a.B,QModalLayout:a.C,QToolbar:a.T,QBtn:a.e,QList:a.z,QCollapsible:a.n,QIcon:a.q},data:function(){return{finalColor:null,selectedColor:null,allColors:null,colorLabels:["Red","Pink","Purple","Deep purple","Indigo","Blue","Light blue","Cyan","Teal","Green","Light green","Lime","Yellow","Amber","Orange","Deep orange","Brown","Gray","Blue-gray"],emits:{beacon:"update-beacon-color",settings:"update-settings-color"}}},methods:{openColorModal:function(){this.disabled||this.$refs.colorModal.open()},selectColor:function(){this.$emit("update:color",this.selectedColor),this.finalColor=this.selectedColor,this.$refs.colorModal.close()},getJSON:function(e){return new r.a(function(t,o){var n=new XMLHttpRequest;n.addEventListener("load",function(){n.status>=200&&n.status<400?t(n.response):o(Error(n.statusText))}),n.addEventListener("error",function(){o(Error("Could not get JSON"))}),n.open("GET",e,!0),n.send()}).then(JSON.parse).catch(function(e){throw e})}},mounted:function(){var e=this;this.finalColor=this.color,this.selectedColor=this.color,this.getJSON("assets/data/colors.json").then(function(t){e.allColors=t})}}},555:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"colorpicker",class:{disabled:e.disabled},style:{background:e.finalColor+" !important"},on:{click:function(t){t.preventDefault(),e.openColorModal(t)}}}),e._v(" "),o("q-modal",{ref:"colorModal",staticClass:"footer-no-shadow mobile-modal-padding",attrs:{"content-css":{minWidth:"400px",minHeight:"500px"}}},[o("q-modal-layout",{staticClass:"colorModal"},[o("q-toolbar",{slot:"header"},[o("div",{staticClass:"q-toolbar-title"},[e._v("\n          Select A Color\n        ")])]),e._v(" "),o("div",{staticClass:"modal-body"},[o("q-list",e._l(e.allColors,function(t,n){return o("q-collapsible",{key:n,staticClass:"colorpicker-wrapper",attrs:{group:"colors",label:e.colorLabels[n],opened:t.includes(e.selectedColor)}},e._l(t,function(t,n){return o("div",{key:t,staticClass:"colorpicker-block",class:{selected:t===e.selectedColor}},[o("div",[o("div",{staticClass:"colorpicker-color",style:{background:t},attrs:{for:t},on:{click:function(o){e.selectedColor=t}}}),e._v(" "),o("q-icon",{attrs:{name:"ion-checkmark-circled",color:"positive",size:"2rem"}})],1)])}))}))],1),e._v(" "),o("q-toolbar",{attrs:{color:"white"},slot:"footer"},[o("div",{staticClass:"q-toolbar-title text-right"},[o("q-btn",{on:{click:function(t){t.preventDefault(),e.log(t)}}},[e._v("Log")]),e._v(" "),o("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.colorModal.close()}}},[e._v("Close")]),e._v(" "),o("q-btn",{attrs:{color:"primary"},on:{click:function(t){e.selectColor()}}},[e._v("Update Settings")])],1)])],1)],1)],1)},staticRenderFns:[]}},577:function(e,t,o){"use strict";var n=o(35);t.a={getCurrentPosition:function(){return n.a.http.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyDB7lZd5FSWzgoGMMwnMEVmHPAUeor69MM")},getAddressFromCoordinates:function(e){return n.a.http.post("location/getaddressfromcoordinates",e)},getCoordinatesFromAddress:function(e){return n.a.http.post("location/getcoordinatesfromaddress",e)},getDistanceBetweenCoordinates:function(e){return n.a.http.post("location/getdistancebetweencoordinates",e)},createBeaconDistanceObject:function(e,t){return{lat1:t.lat,lng1:t.lng,lat2:e.position.lat,lng2:e.position.lng}},autocompleteAddress:function(e){return n.a.http.post("location/autocompleteaddress",e)}}},578:function(e,t,o){"use strict";var n=o(35);t.a={lightBeacon:function(e){return n.a.http.post("beacon/lightbeacon",e)},extinguishBeacon:function(e){return n.a.http.post("beacon/extinguishbeacon",e)},getNearbyBeacons:function(e){return n.a.http.post("beacon/getnearbybeacons",e)},getSingleBeacon:function(e){return n.a.http.post("beacon/getsinglebeacon",e)},verifyBeaconPassword:function(e){return n.a.http.post("beacon/verifybeaconpassword",e)}}},613:function(e,t,o){var n=o(614);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);o(478)("e55b0bb2",n,!0)},614:function(e,t,o){t=e.exports=o(477)(void 0),t.push([e.i,".beacon-card .beacon-card-title[data-v-d29dab06]{color:#fff}.beacon-card form[data-v-d29dab06]{padding:0 1rem 1.5rem}.beacon-card .connection-body[data-v-d29dab06]{padding:1rem}.beacon-card .connection-text[data-v-d29dab06]{padding:1rem 0}.beacon-card.connection-card[data-v-d29dab06]{margin-top:3rem}.beacon-card.connection-card .no-connections[data-v-d29dab06]{color:#0c0c0c;padding:1rem}.toggle-field[data-v-d29dab06]{padding-top:2rem;padding-bottom:1rem}.additional-settings-wrapper[data-v-d29dab06]{padding-top:1rem}.q-toggle[data-v-d29dab06]{-webkit-transform:scale(3);transform:scale(3)}.additional-settings-modal .modal-body[data-v-d29dab06]{overflow-x:hidden}.additional-settings-modal .q-slider[data-v-d29dab06]{max-width:98%}form.correctAddressForm[data-v-d29dab06]{padding-top:1rem}",""])},615:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(531),r=o.n(n),a=o(264),i=o.n(a),s=o(47),c=o(507),d=(o.n(c),o(577)),l=o(547),u=o(578),f=o(530),p=o(255),h=o(258),m=o(480),v=o.n(m),g=o(481),b=o.n(g);t.default={name:"Beacon",mixins:[p.a,h.a],components:{QBtn:s.e,QCard:s.f,QCardTitle:s.i,QField:s.p,QInput:s.s,QModal:s.B,QModalLayout:s.C,QRadio:s.E,QRange:s.F,QToggle:s.S,QToolbar:s.T,QChipsInput:s.m,QInnerLoading:s.r,QSpinnerGears:s.L,QSpinner:s.K,QSearch:s.H,QPagination:s.D,QAutocomplete:s.d,QCheckbox:s.k,ConnectionSquare:v.a,ColorModal:b.a},data:function(){return{currentLocation:{type:"Point",coordinates:[],address:null},correctAddressData:{address:"",lat:0,lng:0,canUpdateAddress:!1,saveCorrectedAddress:!1},additionalSettings:this.$store.state.user.beacon&&this.$store.state.user.beacon.additionalSettings||{password:null,ageRange:{min:18,max:100},genderRestriction:null,tags:[]},connectedBeacon:null,search:"",page:1,limit:12,minPages:1,loading:!1,addressLoading:!1,correctAddressModalLoading:!1,beaconCopy:null}},computed:{formData:function(){if(this.doesObjectExist(this.$store.state.user.beacon)){var e=JSON.parse(i()(this.$store.state.user.beacon));return e.beaconLit=!1,this.beaconCopy=JSON.parse(i()(e)),delete this.beaconCopy.created,delete this.beaconCopy.expiration,e.beaconLit=!0,e}return this.beaconCopy||{name:"",description:"",color:this.$store.state.user.settings.defaultColor||"#D50000",beaconLit:!1,location:{type:"Point",coordinates:[this.currentLocation.coordinates[0],this.currentLocation.coordinates[1]]},address:this.currentLocation.address,author:this.$store.state.user._id,additionalSettings:null}},user:function(){return!!this.$store.state.user&&this.$store.state.user},connections:function(){return this.checkExistence(this.$store.state.user,["beacon","connections"])?this.$store.state.user.beacon.connections:[]},filteredConnections:function(){var e=this;return this.connections.filter(function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})},skip:function(){return this.page*this.limit-this.limit},maxPages:function(){return Math.ceil(this.filteredConnections.length/this.limit)}},validations:{formData:{name:{required:c.required,maxLength:Object(c.maxLength)(100)},description:{required:c.required,maxLength:Object(c.maxLength)(140)},address:{required:c.required,maxLength:Object(c.maxLength)(100)}},additionalSettings:{password:{minLength:Object(c.minLength)(8)},tags:{maxLength:Object(c.maxLength)(5),$each:{maxLength:Object(c.maxLength)(20)}}},correctAddressData:{address:{maxLength:150,canUpdateAddress:function(e){return this.correctAddressData.canUpdateAddress}}}},methods:{openCorrectAddressModal:function(){this.formData.beaconLit||this.$refs.correctAddressModal.open()},getSlice:function(e){return 1===this.page?e.slice(0,10):e.slice(this.skip,this.skip+this.limit)},openRemoveConnectionDialog:function(e){var t=this;s.c.create({title:"Disconnect "+e.name+" from your beacon?",buttons:["Cancel",{label:"Confirm",handler:function(){t.loading=!0,l.a.removeConnection(e).then(function(o){t.loading=!1,t.$store.commit("updateBeacon",o.body);var n={toId:e.userId,toName:e.name,fromId:e.beaconOwnerId,fromName:e.ownerName};t.$socket.emit("removeConnection",n)}).catch(function(e){t.loading=!1,t.createToast("negative",e.body.message)})}}]})},disconnectFromBeacon:function(e){var t=this;this.loading=!0,l.a.disconnectFromBeacon(e).then(function(o){t.loading=!1,t.$store.commit("updateUser",o.body);var n={toId:e.beaconOwnerId,fromId:e.userId,fromName:e.name};t.$socket.emit("disconnectFromBeacon",n)}).catch(function(e){t.loading=!1,t.createToast("negative",e.body.message)})},toggleBeacon:function(){var e=this;if(this.loading=!0,this.formData.userId=this.$store.state.user._id,this.formData.beaconLit)this.$store.state.user.settings.playBeaconSound&&document.getElementById("horn").play(),u.a.lightBeacon(this.formData).then(function(t){e.loading=!1,e.$store.commit("updateUser",t.body),e.$store.commit("updateBeacon",t.body.beacon)}).catch(function(t){e.formData.beaconLit=!1,e.loading=!1,e.createToast("negative",t.body.message)});else{var t=JSON.parse(i()(this.$store.state.user.beacon)),o={beaconId:t._id,userId:t.author};u.a.extinguishBeacon(o).then(function(o){e.loading=!1,e.$store.commit("extinguishBeacon"),e.$store.commit("updateUser",o.body);var n={toIds:t.connections.map(function(e){return e.userId}),fromId:t.author,fromName:e.$store.state.user.fullName};e.$socket.emit("extinguishBeacon",n)}).catch(function(t){e.formData.beaconLit=!0,e.loading=!1,e.createToast("negative",t.body.message)})}},updateAdditionalSettings:function(){this.formData.additionalSettings=this.additionalSettings},checkTagErrors:function(){if(this.$v.additionalSettings.tags.$dirty&&this.$v.additionalSettings.tags.$invalid)return!0;for(var e=0;e<5;e++)if(this.$v.additionalSettings.tags.$each[e]&&this.$v.additionalSettings.tags.$each[e].$invalid)return!0;return!1},cancelConnectionRequest:function(e){var t=this;l.a.cancelConnectionRequest(e).then(function(o){t.$store.commit("updateUser",o.body);var n={toId:e.beaconOwnerId,fromId:e.userId,fromName:e.name};t.$socket.emit("cancelConnectionRequest",n)}).catch(function(e){t.createToast("negative",e.body.message)})},openIncorrectAddressDialog:function(){s.c.create({title:"Incorrect address?",message:"\n          <div>\n          Try these steps:\n          </div>\n          <ol>\n            <li>\n              Verify that your internet connection is wireless. Wired connections are FAR less accurate. Use Wi-fi or mobile data for best results.\n            </li>\n            <li>\n              After verifying that your internet connection is wireless, make sure that your device has a clear path to either your router or a nearby cell tower. Try to avoid being underground or within thick walls.\n            </li>\n          </ol>\n        ",buttons:["Close"]})},getCurrentLocation:function(e){return new r.a(function(t,o){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t({body:{accuracy:e.coords.accuracy,location:{lat:e.coords.latitude,lng:e.coords.longitude}}})},function(n){if(e.$cookie.get("has-seen-geolocation-alert"))d.a.getCurrentPosition().then(function(e){t(e)}).catch(function(e){o(e)});else{var r="";r=1===n.code?"It is HIGHLY recommended to allow your browser to access geolocation. If you choose not to allow access, your location will be far less accurate. Access to geolocation can be changed at any time in your browser settings.":"We were unable to get your location through geolocation. Your location will be less accurate.",s.c.create({title:"Warning",message:r,buttons:[{label:"Confirm",handler:function(){d.a.getCurrentPosition().then(function(o){e.$cookie.set("has-seen-geolocation-alert",!0),t(o)}).catch(function(e){o(e)})}}]})}},{enableHighAccuracy:!0}):d.a.getCurrentPosition().then(function(e){t(e)}).catch(function(e){o(e)})})},correctAddress:function(){var e=this;if(this.correctAddressData.saveCorrectedAddress){this.correctAddressModalLoading=!0;var t={addressChange:{original:{address:this.formData.address,lat:this.formData.location.coordinates[1],lng:this.formData.location.coordinates[0]},corrected:{address:this.correctAddressData.address,lat:this.correctAddressData.lat,lng:this.correctAddressData.lng}},userId:this.$store.state.user._id};f.a.addCorrectedAddress(t).then(function(t){e.correctAddressModalLoading=!1,e.resetCorrectionData(),e.$refs.correctAddressModal.close()}).catch(function(t){e.correctAddressModalLoading=!1,e.createToast("negative",t.body.message)})}else this.resetCorrectionData(),this.$refs.correctAddressModal.close()},getAddresses:function(e,t){var o=this,n={userId:this.$store.state.user._id,address:e};d.a.autocompleteAddress(n).then(function(e){e.body?t(e.body):o.createToast("negative","Could not find the address entered")}).catch(function(){o.createToast("negative","Could not find the address entered")})},selectAddress:function(e){var t=this;this.correctAddressModalLoading=!0;var o={userId:this.$store.state.user._id,address:e.value};d.a.getCoordinatesFromAddress(o).then(function(e){if(e.body){var o={lat1:e.body.lat,lng1:e.body.lng,lat2:t.formData.location.coordinates[1],lng2:t.formData.location.coordinates[0]};t.correctAddressData.lat=e.body.lat,t.correctAddressData.lng=e.body.lng,d.a.getDistanceBetweenCoordinates(o).then(function(e){t.correctAddressModalLoading=!1,e.body&&e.body.canUpdateAddress?t.correctAddressData.canUpdateAddress=!0:t.correctAddressData.canUpdateAddress=!1}).catch(function(){t.correctAddressModalLoading=!1,t.createToast("negative","Could not validate address at this time")})}else t.correctAddressModalLoading=!1,t.createToast("negative","Could not get the coordinates of the address entered")}).catch(function(e){t.correctAddressModalLoading=!1,t.createToast("negative",e.body.message)})},resetCorrectionData:function(){this.formData.location.coordinates=[this.correctAddressData.lng,this.correctAddressData.lat],this.formData.address=this.correctAddressData.address,this.correctAddressData={address:"",lat:0,lng:0,canUpdateAddress:!1,saveCorrectedAddress:!1},this.$v.correctAddressData.$reset()}},mounted:function(){var e=this;this.loading=!0,this.addressLoading=!0,this.doesObjectExist(this.$store.state.user.beacon)&&(this.formData=this.$store.state.user.beacon,this.formData.beaconLit=!0),this.getCurrentLocation(this).then(function(t){e.currentLocation.coordinates[0]=t.body.location.lng,e.currentLocation.coordinates[1]=t.body.location.lat;var o={lat:t.body.location.lat,lng:t.body.location.lng,userId:e.$store.state.user._id};e.loading=!1,d.a.getAddressFromCoordinates(o).then(function(t){if(e.checkExistence(e.$store.state.user,["beacon","address"]))e.currentLocation.address=e.$store.state.user.beacon.address;else{for(var o=!1,n=0;n<e.$store.state.user.correctedAddresses.length;n++)e.$store.state.user.correctedAddresses[n].original.address===t.body&&(o=e.$store.state.user.correctedAddresses[n].corrected);o?(e.currentLocation.address=o.address,e.currentLocation.coordinates[0]=o.lng,e.currentLocation.coordinates[1]=o.lat):e.currentLocation.address=t.body,e.addressLoading=!1}e.addressLoading=!1}).catch(function(t){e.createToast("negative",t.body.message),e.addressLoading=!1})}).catch(function(e){this.loading=!1,this.createToast("negative",e.body.message)})}}},616:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout-padding row justify-center"},[o("div",{staticClass:"postlogin-page-wrapper"},[e.checkExistence(e.user,["outgoingConnectionRequest"],!0)&&e.checkExistence(e.user,["connectedTo"],!0)?o("q-card",{staticClass:"beacon-card"},[o("q-card-title",{staticClass:"uppercase beacon-card-title text-center block bg-primary",attrs:{color:"white"}},[e._v("\n        "+e._s(e.formData.beaconLit?"Extinguish":"Light")+" Beacon\n      ")]),e._v(" "),o("form",{staticClass:"relative-position",attrs:{name:"beaconForm"},on:{submit:function(e){e.preventDefault()}}},[o("q-field",{attrs:{error:e.$v.formData.name.$dirty&&e.$v.formData.name.$invalid,"error-label":"Please enter a name for your beacon"}},[o("q-input",{attrs:{type:"text","max-length":"100","float-label":"Name",disable:e.formData.beaconLit},on:{blur:function(t){e.$v.formData.name.$touch()}},model:{value:e.formData.name,callback:function(t){e.formData.name="string"==typeof t?t.trim():t},expression:"formData.name"}})],1),e._v(" "),o("q-field",{attrs:{error:e.$v.formData.description.$dirty&&e.$v.formData.description.$invalid,"error-label":"Please enter a description for your beacon with a maximum length of 140 characters"}},[o("q-input",{attrs:{type:"textarea","float-label":"Description",disable:e.formData.beaconLit,"max-length":"140","max-height":100,"min-rows":4},on:{blur:function(t){e.$v.formData.description.$touch()}},model:{value:e.formData.description,callback:function(t){e.formData.description="string"==typeof t?t.trim():t},expression:"formData.description"}})],1),e._v(" "),o("q-field",{attrs:{error:e.$v.formData.address.$dirty&&e.$v.formData.address.$invalid,"error-label":"Please enter an address for your beacon"}},[o("q-input",{attrs:{type:"text","max-length":"100",value:e.formData.address,loading:e.addressLoading,"stack-label":e.$store.state.user.settings.showBeaconAddress?"Address":"Address (will not be visible to others)",disable:"",readonly:""}}),e._v(" "),o("small",{staticClass:"incorrect-address"},[o("a",{class:{disabled:e.formData.beaconLit},on:{click:function(t){t.preventDefault(),e.openCorrectAddressModal(t)}}},[e._v("Incorrect address?")])])],1),e._v(" "),o("q-field",{attrs:{label:"Color ("+e.formData.color.toUpperCase()+")",labelWidth:11}}),e._v(" "),o("color-modal",{attrs:{field:"color",color:e.formData.color,disabled:e.formData.beaconLit},on:{"update:color":function(t){e.formData.color=t}}}),e._v(" "),o("div",{staticClass:"additional-settings-wrapper text-center"},[o("a",{on:{click:function(t){t.preventDefault(),e.$refs.additionalSettingsModal.open(t)}}},[e._v("Additional settings")])]),e._v(" "),o("q-field",{staticClass:"text-center toggle-field"},[o("q-toggle",{attrs:{disable:e.$v.formData.$invalid},on:{change:e.toggleBeacon},model:{value:e.formData.beaconLit,callback:function(t){e.formData.beaconLit=t},expression:"formData.beaconLit"}})],1),e._v(" "),e.formData.beaconLit&&e.doesObjectExist(e.$store.state.user.beacon)?o("q-field",{staticClass:"text-center toggle-field"},[e._v("\n          This beacon will expire naturally\n          "+e._s(e._f("moment")(e.$store.state.user.beacon.expiration,"from","now"))+".\n        ")]):e._e(),e._v(" "),o("q-inner-loading",{attrs:{visible:e.loading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1):e._e(),e._v(" "),e.checkExistence(e.user,["outgoingConnectionRequest"])&&e.checkExistence(e.user,["beacon"],!0)?o("q-card",{staticClass:"beacon-card"},[o("q-card-title",{staticClass:"uppercase beacon-card-title text-center block bg-primary"},[e._v("\n        Awaiting Connection Approval\n      ")]),e._v(" "),o("div",{staticClass:"connection-body text-center"},[o("div",[o("q-spinner",{attrs:{color:"primary",size:50}})],1),e._v(" "),o("div",{staticClass:"connection-text"},[e._v("\n          You are currently waiting to be approved by "+e._s(e.$store.state.user.outgoingConnectionRequest.ownerName)+"\n        ")]),e._v(" "),o("q-btn",{attrs:{color:"primary"},on:{click:function(t){t.preventDefault(),e.cancelConnectionRequest(e.$store.state.user.outgoingConnectionRequest)}}},[e._v("Cancel connection request")])],1)],1):e._e(),e._v(" "),e.checkExistence(e.user,["outgoingConnectionRequest"],!0)&&e.checkExistence(e.user,["connectedTo"])&&e.checkExistence(e.user,["beacon"],!0)?o("q-card",{staticClass:"beacon-card"},[o("q-card-title",{staticClass:"uppercase beacon-card-title text-center block bg-primary"},[e._v("\n        Connected!\n      ")]),e._v(" "),o("div",{staticClass:"connection-body text-center"},[o("div",{staticClass:"connection-text"},[e._v("\n          You are connected to "+e._s(e.generatePossessive(e.$store.state.user.connectedTo.ownerName))+" beacon.\n          "),o("br"),e._v("\n          This beacon will expire naturally\n          "+e._s(e._f("moment")(e.$store.state.user.connectedTo.beaconExpiration,"from","now"))+".\n        ")]),e._v(" "),o("q-btn",{attrs:{color:"primary"},on:{click:function(t){t.preventDefault(),e.disconnectFromBeacon(e.$store.state.user.connectedTo)}}},[e._v("Disconnect")])],1)],1):e._e(),e._v(" "),e.checkExistence(e.user,["beacon"])?o("q-card",{staticClass:"beacon-card connection-card relative-position",attrs:{color:"white"}},[o("q-card-title",{staticClass:"uppercase beacon-card-title text-center block bg-primary"},[e._v("\n        Connections\n      ")]),e._v(" "),e.checkExistence(e.user,["beacon","connections"])?o("q-search",{staticClass:"no-margin",attrs:{color:"primary",inverted:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e(),e._v(" "),e.checkExistence(e.user,["beacon","connections"])?o("div",{staticClass:"row"},e._l(e.getSlice(e.filteredConnections),function(t){return o("connection-square",{key:"connection.userId",staticClass:"col col-lg-4 col-sm-6 col-xs-12",attrs:{connection:t},nativeOn:{click:function(o){e.openRemoveConnectionDialog(t)}}})})):e._e(),e._v(" "),e.checkExistence(e.user,["beacon","connections"])?o("div",{staticClass:"text-center"},[o("q-pagination",{attrs:{min:e.minPages,max:e.maxPages},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e(),e._v(" "),e.checkExistence(e.user,["beacon","connections"],!0)?o("div",{staticClass:"text-center no-connections"},[e._v("\n        You have no connections at this time.\n      ")]):e._e(),e._v(" "),o("q-inner-loading",{attrs:{visible:e.loading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1):e._e(),e._v(" "),o("q-modal",{ref:"correctAddressModal",staticClass:"footer-no-shadow mobile-modal-padding",attrs:{"content-css":{minWidth:"400px",minHeight:"500px"}}},[o("q-modal-layout",{staticClass:"correctAddressModal"},[o("q-toolbar",{slot:"header"},[o("div",{staticClass:"q-toolbar-title"},[e._v("\n            Correct Your Address\n          ")])]),e._v(" "),o("div",{staticClass:"modal-body"},[o("form",{staticClass:"correctAddressForm",attrs:{name:"correctAddressForm"}},[o("p",[e._v("\n              Please enter your corrected address below. To prevent data falsification, your corrected address must be "),o("strong",[e._v("within 250m")]),e._v(" of the original address.\n            ")]),e._v(" "),o("q-field",{attrs:{error:e.$v.correctAddressData.address.$dirty&&e.$v.correctAddressData.address.$invalid,"error-label":"Corrected address must be within 250m of original address"}},[o("q-input",{ref:"correctAddressInput",attrs:{type:"text","float-label":"Corrected Address",disable:e.formData.beaconLit},on:{blur:function(t){e.$v.correctAddressData.address.$touch()}},model:{value:e.correctAddressData.address,callback:function(t){e.correctAddressData.address=t},expression:"correctAddressData.address"}},[o("q-autocomplete",{attrs:{"min-characters":3},on:{search:e.getAddresses,selected:e.selectAddress}})],1)],1),e._v(" "),o("q-field",[o("q-checkbox",{attrs:{label:"Save this corrected address so it is always used in place of the original address"},model:{value:e.correctAddressData.saveCorrectedAddress,callback:function(t){e.correctAddressData.saveCorrectedAddress=t},expression:"correctAddressData.saveCorrectedAddress"}})],1)],1)]),e._v(" "),o("q-toolbar",{attrs:{color:"white"},slot:"footer"},[o("div",{staticClass:"q-toolbar-title text-right"},[o("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.correctAddressModal.close()}}},[e._v("Close")]),e._v(" "),o("q-btn",{attrs:{color:"primary",disable:e.$v.correctAddressData.$invalid||!e.correctAddressData.canUpdateAddress||e.formData.beaconLit},on:{click:function(t){e.correctAddress()}}},[e._v("Update Settings")])],1)]),e._v(" "),o("q-inner-loading",{attrs:{visible:e.correctAddressModalLoading}},[o("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1),e._v(" "),o("q-modal",{ref:"additionalSettingsModal",staticClass:"footer-no-shadow additional-settings-modal mobile-modal-padding",attrs:{"content-css":{minWidth:"400px",minHeight:"500px"}}},[o("q-modal-layout",{staticClass:"additionalSettingsModal"},[o("q-toolbar",{slot:"header"},[o("div",{staticClass:"q-toolbar-title"},[e._v("\n            Additional Settings\n          ")])]),e._v(" "),o("div",{staticClass:"modal-body"},[o("form",{attrs:{name:"additionalSettingsForm"}},[o("q-field",{attrs:{label:"Appear to",labelWidth:11}}),e._v(" "),o("q-radio",{attrs:{val:null,label:"Everyone",disable:e.formData.beaconLit},model:{value:e.additionalSettings.genderRestriction,callback:function(t){e.additionalSettings.genderRestriction=t},expression:"additionalSettings.genderRestriction"}}),o("br"),e._v(" "),o("q-radio",{attrs:{val:"maleOnly",label:"Males",disable:e.formData.beaconLit},model:{value:e.additionalSettings.genderRestriction,callback:function(t){e.additionalSettings.genderRestriction=t},expression:"additionalSettings.genderRestriction"}}),o("br"),e._v(" "),o("q-radio",{attrs:{val:"femaleOnly",label:"Females",disable:e.formData.beaconLit},model:{value:e.additionalSettings.genderRestriction,callback:function(t){e.additionalSettings.genderRestriction=t},expression:"additionalSettings.genderRestriction"}}),e._v(" "),o("q-field",{attrs:{label:"Age Range ("+e.additionalSettings.ageRange.min+" to "+e.additionalSettings.ageRange.max+")",labelWidth:11}}),e._v(" "),o("q-range",{attrs:{min:18,max:100,label:"",disable:e.formData.beaconLit},model:{value:e.additionalSettings.ageRange,callback:function(t){e.additionalSettings.ageRange=t},expression:"additionalSettings.ageRange"}}),e._v(" "),o("q-field",{attrs:{error:e.$v.additionalSettings.password.$dirty&&e.$v.additionalSettings.password.$invalid,"error-label":"Password must be at least 8 characters long"}},[o("q-input",{attrs:{type:"password","float-label":"Connection password",disable:e.formData.beaconLit,"no-pass-toggle":e.formData.beaconLit},on:{blur:function(t){e.$v.additionalSettings.password.$touch()}},model:{value:e.additionalSettings.password,callback:function(t){e.additionalSettings.password="string"==typeof t?t.trim():t},expression:"additionalSettings.password"}})],1),e._v(" "),o("q-field",{attrs:{error:e.checkTagErrors(),"error-label":"There is a maximum of 5 tags consisting of 20 characters each"}},[o("q-chips-input",{attrs:{disable:e.formData.beaconLit,"float-label":"Enter up to 5 tags"},model:{value:e.additionalSettings.tags,callback:function(t){e.additionalSettings.tags=t},expression:"additionalSettings.tags"}})],1)],1)]),e._v(" "),o("q-toolbar",{attrs:{color:"white"},slot:"footer"},[o("div",{staticClass:"q-toolbar-title text-right"},[o("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.additionalSettingsModal.close()}}},[e._v("Close")]),e._v(" "),o("q-btn",{attrs:{color:"primary",disable:e.$v.additionalSettings.$invalid||e.formData.beaconLit},on:{click:function(t){e.updateAdditionalSettings(),e.$refs.additionalSettingsModal.close()}}},[e._v("Update Settings")])],1)])],1)],1)],1)])},staticRenderFns:[]}}});