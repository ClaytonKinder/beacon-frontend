webpackJsonp([12],{493:function(t,e,a){function r(t){a(615)}var o=a(16)(a(617),a(618),r,null,null);t.exports=o.exports},530:function(t,e,a){"use strict";var r=a(34);e.a={getUserByEmail:function(t){return r.a.http.get("user/getuser/"+t)},updateUserSettings:function(t){return r.a.http.post("user/updateusersettings",t)},updateUserInformation:function(t){return r.a.http.post("user/updateuserinformation",t)},updateUserEmail:function(t){return r.a.http.post("user/updateuseremail",t)},updateUserPassword:function(t){return r.a.http.post("user/updateuserpassword",t)},completeTutorialTour:function(t){return r.a.http.post("user/completetutorialtour",t)},addCorrectedAddress:function(t){return r.a.http.post("user/addcorrectedaddress",t)},deleteCorrectedAddress:function(t){return r.a.http.post("user/deletecorrectedaddress",t)}}},615:function(t,e,a){var r=a(616);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(478)("798292d6",r,!0)},616:function(t,e,a){e=t.exports=a(477)(void 0),e.push([t.i,".settings-card form{padding:0 1rem 1.5rem}.settings-card form .q-field-label-inner{width:100%!important}.settings-card form .q-radio:not(:last-of-type){margin-bottom:.25rem}.settings-card form .q-option .q-option-label{color:rgba(0,0,0,.54)}.settings-card form .button-wrapper{margin-top:1rem}",""])},617:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(263),o=a.n(r),s=a(47),i=a(530),n=a(254);e.default={name:"Settings",mixins:[n.a],components:{QBtn:s.e,QCard:s.f,QCardTitle:s.i,QField:s.p,QInput:s.s,QToggle:s.S,QSlider:s.J,QRadio:s.E,QInnerLoading:s.r,QSpinnerGears:s.L},data:function(){return{formData:this.$store.state.user.settings||{beaconLimit:55,defaultColor:"#FF0000",playBeaconSound:!1,playNotificationSound:!0,showBeaconAddress:!1,unitOfMeasurement:"miles",searchRadius:15},originalData:null,loading:!1}},methods:{updateUserSettings:function(){var t=this;this.loading=!0;var e={userId:this.$store.state.user._id,settings:this.formData};i.a.updateUserSettings(e).then(function(e){t.loading=!1,t.$store.commit("updateUser",e.body),t.originalData=JSON.parse(o()(t.formData)),t.createToast("positive","Your settings were successfully updated")}).catch(function(e){t.loading=!1,t.createToast("negative",e.body.message)})},areObjectsEqual:function(t,e){return o()(t)===o()(e)},generateSearchRadiusLabel:function(){return"Search Radius ("+this.formData.searchRadius+("miles"===this.formData.unitOfMeasurement?"mi":"km")+")"}},mounted:function(){var t=this;this.$q.events.$on("changeColorSettings",function(e){t.formData.defaultColor=e}),this.$q.events.$once("changeColorSettings",function(e){t.originalData.defaultColor=e}),this.originalData=JSON.parse(o()(this.formData))}}},618:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-padding row justify-center"},[a("div",{staticClass:"postlogin-page-wrapper"},[a("q-card",{staticClass:"settings-card relative-position",attrs:{color:"white"}},[a("q-card-title",{staticClass:"uppercase color-white text-center block bg-primary"},[t._v("\n        Update Settings\n      ")]),t._v(" "),a("form",{staticClass:"relative-position",attrs:{name:"beaconForm"},on:{submit:function(e){e.preventDefault(),t.updateUserSettings(e)}}},[a("q-field",{attrs:{label:"Play sound when receiving a connection request",labelWidth:11}},[a("q-toggle",{model:{value:t.formData.playNotificationSound,callback:function(e){t.formData.playNotificationSound=e},expression:"formData.playNotificationSound"}})],1),t._v(" "),a("q-field",{attrs:{label:"Play sound when lighting a beacon",labelWidth:11}},[a("q-toggle",{model:{value:t.formData.playBeaconSound,callback:function(e){t.formData.playBeaconSound=e},expression:"formData.playBeaconSound"}})],1),t._v(" "),a("q-field",{attrs:{label:"Show your beacon's address to others",labelWidth:11}},[a("q-toggle",{model:{value:t.formData.showBeaconAddress,callback:function(e){t.formData.showBeaconAddress=e},expression:"formData.showBeaconAddress"}})],1),t._v(" "),a("q-field",{attrs:{label:"Unit of measurement",labelWidth:11}}),t._v(" "),a("q-radio",{attrs:{val:"miles",label:"Miles"},model:{value:t.formData.unitOfMeasurement,callback:function(e){t.formData.unitOfMeasurement=e},expression:"formData.unitOfMeasurement"}}),a("br"),t._v(" "),a("q-radio",{attrs:{val:"kilometers",label:"Kilometers"},model:{value:t.formData.unitOfMeasurement,callback:function(e){t.formData.unitOfMeasurement=e},expression:"formData.unitOfMeasurement"}}),t._v(" "),a("q-field",{attrs:{label:t.generateSearchRadiusLabel(),labelWidth:11}}),t._v(" "),a("q-slider",{attrs:{min:1,max:30,label:!0},model:{value:t.formData.searchRadius,callback:function(e){t.formData.searchRadius=e},expression:"formData.searchRadius"}}),t._v(" "),a("q-field",{attrs:{label:"Nearby beacon limit ("+t.formData.beaconLimit+")",labelWidth:11}}),t._v(" "),a("q-slider",{attrs:{min:1,max:100,label:!0},model:{value:t.formData.beaconLimit,callback:function(e){t.formData.beaconLimit=e},expression:"formData.beaconLimit"}}),t._v(" "),a("q-field",{attrs:{label:"Default beacon color ("+t.formData.defaultColor.toUpperCase()+")",labelWidth:11}}),t._v(" "),a("div",{staticClass:"colorpicker-block"},[a("div",{staticClass:"colorpicker-wrapper relative-position",style:{background:t.formData.defaultColor+" !important"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.defaultColor,expression:"formData.defaultColor"}],staticClass:"full-width colorpicker",attrs:{type:"color"},domProps:{value:t.formData.defaultColor},on:{input:function(e){e.target.composing||(t.formData.defaultColor=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:" button-wrapper text-right"},[a("q-btn",{attrs:{color:"primary",disabled:t.areObjectsEqual(t.originalData,t.formData)}},[t._v("\n            Update\n          ")])],1)],1),t._v(" "),a("q-inner-loading",{attrs:{visible:t.loading}},[a("q-spinner-gears",{attrs:{size:"50px",color:"primary"}})],1)],1)],1)])},staticRenderFns:[]}}});